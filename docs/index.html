<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="You can download the game here">
    <meta name="author" content="BBpezsgo">
    <meta property="og:image" content="https://bbpezsgo.github.io/nothing.github.io/imgs/img.png">
    <meta name="twitter:image" content="https://bbpezsgo.github.io/nothing.github.io/imgs/img.png">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="icon" type="image/x-icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/favicon.ico">
    <link rel="icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/ico32.png" sizes="32x32">
    <link rel="icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/ico64.png" sizes="64x64">
    <link rel="icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/ico128.png" sizes="128x128">
    <link rel="icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/ico256.png" sizes="256x256">
    <link rel="icon" href="https://bbpezsgo.github.io/nothing.github.io/imgs/icons/ico518.png" sizes="518x518">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>
        Nothing
    </title>
    <script>
        document.addEventListener('contextmenu', event => event.preventDefault())
    </script>
    <script src="menuManager.js"></script>
</head>

<body onload="SomeoneVisitedTheSite()">
    <script type="module" src="app.js"></script>

    <div id="loading" class="panel-menu menu hidden">
        Loading...
    </div>

    <div id="user" class="hidden menu" style="width: 100%; height: 100%;">
        <div id="logged-out" class="panel-menu">
            <div class="menuHeader">
                Account
            </div>

            <span id="login-error" class="error-text" style="display: none;">
                <i class="material-icons"
                    style="font-size: 16px; transform: translateY(3px); margin-right: 5px;">&#xe000;</i><span
                    id="login-error-message">Error</span></span>

            <form onsubmit="window.Login(); return false" style="transform: translateX(-2px);">
                <span>Login</span>
                <input type="email" id="email" placeholder="email" style="margin-bottom: 0px;" required />
                <input type="password" id="password" placeholder="password" style="margin-bottom: 0px;" required />
                <input type="submit" class="button" value="Login" style="width: calc(100% - 16px);" />
            </form>

            <div class="button" onclick="ShowMenu('downloads')">Back</div>
        </div>

        <div id="logged-in" class="panel-menu">
            <div class="menuHeader">
                Account
            </div>

            <p>
                Logged in as<br>
                <b><span id="firebase-displayName"></span></b>
            <div class="tooltip" id="firebase-isAnonymous"><img width="16" height="16" src="./imgs/anonymous.png"
                    class="mini-icon">
                <span class="tooltiptext">Anonymous</span>
            </div>
            </p>
            <ul>
                <li>
                    Email: <span id="firebase-email"></span>
                    <div class="tooltip" id="firebase-emailVerified"><img width="16" height="16"
                            src="./imgs/verified.svg" class="mini-icon">
                        <span class="tooltiptext">Verified</span>
                    </div>
                    <div class="tooltip" id="firebase-emailUnverified"><img width="16" height="16"
                            src="./imgs/unverified.svg" class="mini-icon">
                        <span class="tooltiptext">Unerified</span>
                    </div>
                    <div class="tooltip" id="firebase-multiFactor"><img width="16" height="16" src="./imgs/2fa.svg"
                            class="mini-icon">
                        <span class="tooltiptext">2FA</span>
                    </div>
                </li>
                <li>
                    PhoneNumber: <span id="firebase-phoneNumber"></span>
                </li>
                <li>
                    PhotoURL: <span id="firebase-photoURL"></span>
                </li>
                <li>
                    UID: <span id="firebase-uid"></span>
                </li>
            </ul>
            <div class="button" onclick="window.Logout()">Logout</div>
            <div class="button" onclick="ShowMenu('downloads')">Back</div>
        </div>
    </div>

    <div id="downloads" class="panel-menu menu">
        <div class="menuHeader">
            Nothing
        </div>

        <div class="button" id="on-show-user-panel" onclick="ShowMenu('user')">Account</div>

        <a download
            href="https://onedrive.live.com/download?cid=6AEB0DA011C539BF&resid=6AEB0DA011C539BF%212453&authkey=AKaz2TB9zzdgAJg">
            <div class="button">Download for PC</div>
        </a>

        <a download
            href="https://onedrive.live.com/download?cid=6AEB0DA011C539BF&resid=6AEB0DA011C539BF%2153953&authkey=AO3BX-CNR5RWxCI">
            <div class="button">Download for Android</div>
        </a>
    </div>

    <!-- Supported OS -->
    <script>
        function ResetDownloadButtons() {

            if (getOS() == 'win') {
                SetButtonsEnabled(true, "platform-windows")
            } else {
                SetButtonsEnabled(false, "platform-windows")
                OpenModal()
            }

            if (getOS() == 'android') {
                SetButtonsEnabled(true, "platform-android")
            } else {
                SetButtonsEnabled(false, "platform-android")
            }
        }

        function SetButtonsEnabled(enabled, tags) {
            const buttons = document.getElementsByClassName(tags)
            for (let i = 0; i < buttons.length; i++) {
                const button = buttons[i];
                if (enabled == true) {
                    if (button.classList.contains("disabled")) {
                        button.classList.remove("disabled")
                    }
                } else {
                    if (button.classList.contains("disabled")) {
                    } else {
                        button.classList.add("disabled")
                    }
                }
            }
        }

        function getOS() {
            var userAgent = window.navigator.userAgent,
                platform = window.navigator.platform,
                macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
                windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
                iosPlatforms = ['iPhone', 'iPad', 'iPod'],
                os = null;

            if (macosPlatforms.indexOf(platform) !== -1) {
                os = 'macos';
            } else if (iosPlatforms.indexOf(platform) !== -1) {
                os = 'ios';
            } else if (windowsPlatforms.indexOf(platform) !== -1) {
                os = 'win';
            } else if (/Android/.test(userAgent)) {
                os = 'android';
            } else if (!os && /Linux/.test(platform)) {
                os = 'linux';
            }

            return os;
        }
        function detect() {
            alert(`Device OS is: ${getOS()}`)
        }
    </script>

    <!-- Get Browser -->
    <script>
        function GetBrowser() {
            let userAgent = navigator.userAgent
            let browserName
            if (userAgent.match(/chrome|chromium|crios/i)) {
                browserName = "chrome"
            } else if (userAgent.match(/firefox|fxios/i)) {
                browserName = "firefox"
            } else if (userAgent.match(/safari/i)) {
                browserName = "safari"
            } else if (userAgent.match(/opr\//i)) {
                browserName = "opera"
            } else if (userAgent.match(/edg/i)) {
                browserName = "edge"
            } else {
                browserName = "No browser detection";
            }
            return browserName
        }
    </script>

    <!-- Someone Visited The Site -->
    <script>
        function SomeoneVisitedTheSite() {
            const browser = GetBrowser()
            const os = getOS()
            const date = new Date(Date.now())

            const labelId = '62baafd654f7e25c5dc6b35f'

            const listId = '62baaf7ce73a84408e99e2c0'

            var xmlHttp = new XMLHttpRequest()
            xmlHttp.open("GET", 'https://api.ipify.org/', false)
            xmlHttp.send(null)
            const ip = xmlHttp.responseText

            const title = 'Valaki megl√°togatotta az oldalt'
            const desc =
                '- Date: ' + date.toString() +
                '%0A- Browser: ' + browser +
                '%0A- OS: ' + os +
                '%0A- IP: ' + ip

            var xhr = new XMLHttpRequest()
            xhr.open("POST",
                'https://api.trello.com/1/cards/?' +
                'idList=' + listId +
                '&token=17cef7936d186e3b194f785997689386fc6467700cd75352428aee0ed36c4581' +
                '&key=16160910964e82904e57646c84c9fb69' +
                '&name=' + title +
                '&desc=' + desc +
                '&idLabels=' + labelId +
                '&pos=top'
                , true)
            xhr.setRequestHeader('Content-Type', 'application/json')
            xhr.send()
        }
    </script>
</body>

</html>